(function(){"use strict";var e={1945:function(e,n,u){var l=u(5130),t=u(6768),a=u(144);const o=(e,n)=>({id:e,name:"New cube",sides:new Array(n).fill({attack:0,deffence:0}),color:""}),i=()=>({id:0,name:"Default cube",sides:[{attack:0,deffence:0},{attack:1,deffence:0},{attack:2,deffence:0},{attack:0,deffence:1},{attack:0,deffence:2},{attack:2,deffence:2}],color:""}),s=()=>({dice:0,dice_amount:1,ship_hp:1,enemy_attack:1,sim_number:1,enemy_hp:1}),r=(e,n)=>{const{dice:u,dice_amount:l,enemy_attack:t,ship_hp:a,sim_number:o,enemy_hp:i}=e;if(!n[u])throw"Dice don't exist";if(n[u].sides.length<2)throw"Dice has no sides";if(l<1)throw"Invalid dice amount";if(t<0)throw"Enemy is enemy and cnnot heal the ship";if(a<1)throw"Dead ship travelling is not recomended";if(o<1)throw"No simulations number provided";if(i<1)throw"Enemy should have some hp"};u(4114);const d=(e,n)=>(e=Math.ceil(e),n=Math.floor(n),Math.floor(Math.random()*(n-e+1))+e),c=(e,n)=>{const u=[];let l=e.ship_hp,t=e.enemy_hp;const a=n[e.dice];while(l>0&&t>0){const n=l,o=t,i=new Array(e.dice_amount).fill(null).map((()=>d(0,a.sides.length-1))),s=i.reduce(((e,n)=>(e.attack+=a.sides[n].attack,e.deffence+=a.sides[n].deffence,e)),{attack:0,deffence:0});l-=Math.max(0,e.enemy_attack-s.deffence),t-=s.attack,u.push({shipStartHp:n,enemyStartHp:o,diceRolls:i.map((e=>a.sides[e])),shipEndHp:l,enemyEndHp:t})}return u},p=(e,n)=>new Array(e.sim_number).fill(null).map(((u,l)=>({id:l,steps:c(e,n)}))),v=e=>{const n=Number(e);return isNaN(n)?0:n},m=(0,t.Lk)("label",null,"Sides",-1),f=["value","onChange"],h=["value","onChange"];var k=(0,t.pM)({__name:"AppCube",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(e){const n=(0,t.fn)(e,"modelValue"),u=(0,t.EW)({get(){return n.value.name},set(e){n.value={...n.value,name:e}}}),a=(e,u,l)=>{const t={...n.value.sides[l],[u]:v(e)};n.value={...n.value,sides:n.value.sides.map(((e,n)=>n===l?t:e))}};return(e,o)=>((0,t.uX)(),(0,t.CE)("div",null,[(0,t.eW)(" Cube name: "),(0,t.bo)((0,t.Lk)("input",{"onUpdate:modelValue":o[0]||(o[0]=e=>u.value=e)},null,512),[[l.Jo,u.value]]),(0,t.Lk)("div",null,[m,((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(n.value.sides,((e,n)=>((0,t.uX)(),(0,t.CE)("div",{key:n},[(0,t.eW)(" Attack: "),(0,t.Lk)("input",{type:"number",value:e.attack,onChange:e=>a(e.target.value,"attack",n)},null,40,f),(0,t.eW)(" Deffence "),(0,t.Lk)("input",{type:"number",value:e.deffence,onChange:e=>a(e.target.value,"deffence",n)},null,40,h)])))),128))])]))}});const b=k;var y=b;const _={class:"cubes"},E=["onClick"];var L=(0,t.pM)({__name:"AppCubes",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(e){const n=(0,t.fn)(e,"modelValue"),u=(0,a.KR)(6),i=(0,t.EW)((()=>Object.values(n.value))),s=(0,t.EW)((()=>{const e=Math.max(...Object.keys(n.value).map(Number));return isFinite(e)?e+1:0})),r=()=>{n.value={...n.value,[s.value]:o(s.value,u.value)}},d=e=>{n.value={...n.value,[e.id]:e}},c=e=>{const{[e]:u,...l}=n.value;n.value=l};return(e,n)=>((0,t.uX)(),(0,t.CE)("div",_,[(0,t.Lk)("button",{onClick:r}," Add new Cube "),(0,t.eW)(" Sides number "),(0,t.bo)((0,t.Lk)("input",{type:"number","onUpdate:modelValue":n[0]||(n[0]=e=>u.value=e)},null,512),[[l.Jo,u.value]]),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(i.value,(e=>((0,t.uX)(),(0,t.CE)("div",{class:"cubes-cube",key:e.id},[(0,t.Lk)("button",{onClick:()=>c(e.id)}," Delete cube ",8,E),(0,t.bF)(y,{"model-value":e,"onUpdate:modelValue":d},null,8,["model-value"])])))),128))]))}}),C=u(1241);const g=(0,C.A)(L,[["__scopeId","data-v-2d05fa8f"]]);var V=g,W=u(4232);const w=(0,t.Lk)("br",null,null,-1),X=["value"];var M=(0,t.pM)({__name:"AppHeader",props:(0,t.zz)({cubes:{type:Object,required:!0}},{modelValue:{required:!0},modelModifiers:{}}),emits:(0,t.zz)(["simulate"],["update:modelValue"]),setup(e,{emit:n}){const u=(0,t.fn)(e,"modelValue"),a=e,o=(0,t.EW)((()=>Object.values(a.cubes))),i=(0,t.EW)({get(){return u.value.ship_hp},set(e){u.value={...u.value,ship_hp:v(e)}}}),s=(0,t.EW)({get(){return u.value.enemy_hp},set(e){u.value={...u.value,enemy_hp:v(e)}}}),r=(0,t.EW)({get(){return u.value.dice},set(e){u.value={...u.value,dice:v(e)}}}),d=(0,t.EW)({get(){return u.value.enemy_attack},set(e){u.value={...u.value,enemy_attack:v(e)}}}),c=(0,t.EW)({get(){return u.value.sim_number},set(e){u.value={...u.value,sim_number:v(e)}}}),p=(0,t.EW)({get(){return u.value.dice_amount},set(e){u.value={...u.value,dice_amount:v(e)}}});return(e,n)=>((0,t.uX)(),(0,t.CE)("div",null,[(0,t.eW)(" Simulations number: "),(0,t.bo)((0,t.Lk)("input",{type:"number","onUpdate:modelValue":n[0]||(n[0]=e=>c.value=e)},null,512),[[l.Jo,c.value]]),(0,t.Lk)("button",{onClick:n[1]||(n[1]=n=>e.$emit("simulate"))}," Run Simulations "),(0,t.Lk)("div",null,[(0,t.eW)(" Ship HP: "),(0,t.bo)((0,t.Lk)("input",{type:"number","onUpdate:modelValue":n[2]||(n[2]=e=>i.value=e)},null,512),[[l.Jo,i.value]]),(0,t.eW)(" Enemy HP: "),(0,t.bo)((0,t.Lk)("input",{type:"number","onUpdate:modelValue":n[3]||(n[3]=e=>s.value=e)},null,512),[[l.Jo,s.value]]),(0,t.eW)(" Enemy attack: "),(0,t.bo)((0,t.Lk)("input",{type:"number","onUpdate:modelValue":n[4]||(n[4]=e=>d.value=e)},null,512),[[l.Jo,d.value]]),w,(0,t.eW)(" Dice: "),(0,t.bo)((0,t.Lk)("select",{"onUpdate:modelValue":n[5]||(n[5]=e=>r.value=e)},[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(o.value,(e=>((0,t.uX)(),(0,t.CE)("option",{key:e.id,value:e.id},(0,W.v_)(e.name),9,X)))),128))],512),[[l.u1,r.value]]),(0,t.eW)(" Dice amount: "),(0,t.bo)((0,t.Lk)("input",{type:"number","onUpdate:modelValue":n[6]||(n[6]=e=>p.value=e)},null,512),[[l.Jo,p.value]])])]))}});const O=M;var A=O;const H={class:"roll"},S={class:"roll-attack"},j={class:"roll-def"};var F=(0,t.pM)({__name:"AppDiceRoll",props:{side:{type:Object,required:!0}},setup(e){const n=e;return(e,u)=>((0,t.uX)(),(0,t.CE)("div",H,[(0,t.Lk)("span",S,"A:"+(0,W.v_)(n.side.attack),1),(0,t.Lk)("span",j,"D:"+(0,W.v_)(n.side.deffence),1)]))}});const D=(0,C.A)(F,[["__scopeId","data-v-20269c87"]]);var R=D;const U={class:"simulation-table"},K=(0,t.Lk)("thead",null,[(0,t.Lk)("th",null,"Rodund #"),(0,t.Lk)("th",null,"Ship starting HP"),(0,t.Lk)("th",null,"Enemy starting HP"),(0,t.Lk)("th",null,"Dice Rolls"),(0,t.Lk)("th",null,"Ship ending HP"),(0,t.Lk)("th",null,"Enemy ending HP")],-1);var I=(0,t.pM)({__name:"AppSimulation",props:{simulation:{type:Object,required:!0}},setup(e){const n=e,u=(0,t.EW)((()=>n.simulation.steps));return(e,n)=>((0,t.uX)(),(0,t.CE)("table",U,[K,(0,t.Lk)("tbody",null,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(u.value,((e,n)=>((0,t.uX)(),(0,t.CE)("tr",{key:n,class:"simulation-table--row"},[(0,t.Lk)("td",null,"Round#: "+(0,W.v_)(n+1),1),(0,t.Lk)("td",null,(0,W.v_)(e.shipStartHp),1),(0,t.Lk)("td",null,(0,W.v_)(e.enemyStartHp),1),(0,t.Lk)("td",null,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(e.diceRolls,((e,u)=>((0,t.uX)(),(0,t.Wv)(R,{key:`${n}_${u}`,side:e},null,8,["side"])))),128))]),(0,t.Lk)("td",null,(0,W.v_)(e.shipEndHp),1),(0,t.Lk)("td",null,(0,W.v_)(e.enemyEndHp),1)])))),128))])]))}});const x=I;var P=x,q=(0,t.pM)({__name:"AppSimulations",props:{simulations:{type:Array,required:!0}},setup(e){return(n,u)=>((0,t.uX)(),(0,t.CE)("div",null,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(e.simulations,(e=>((0,t.uX)(),(0,t.CE)("div",{key:e.id},[(0,t.Lk)("h3",null," Smulation #"+(0,W.v_)(e.id+1),1),(0,t.bF)(P,{simulation:e},null,8,["simulation"])])))),128))]))}});const J=q;var N=J;const z={class:"layout"},$={class:"layout-main"},T={class:"layout-header"},Q={class:"layout-body"},B={class:"layout-setting"};var G=(0,t.pM)({__name:"App",setup(e){const n=i(),u=(0,a.KR)({[n.id]:n}),l=(0,a.KR)(s()),o=(0,a.KR)([]),d=()=>{try{r(l.value,u.value),o.value=p(l.value,u.value)}catch(e){alert(e)}};return(e,n)=>((0,t.uX)(),(0,t.CE)("div",z,[(0,t.Lk)("main",$,[(0,t.Lk)("div",T,[(0,t.bF)(A,{modelValue:l.value,"onUpdate:modelValue":n[0]||(n[0]=e=>l.value=e),cubes:u.value,onSimulate:d},null,8,["modelValue","cubes"])]),(0,t.Lk)("div",Q,[o.value.length?((0,t.uX)(),(0,t.Wv)(N,{key:0,simulations:o.value},null,8,["simulations"])):(0,t.Q3)("",!0)])]),(0,t.Lk)("aside",B,[(0,t.bF)(V,{modelValue:u.value,"onUpdate:modelValue":n[1]||(n[1]=e=>u.value=e)},null,8,["modelValue"])])]))}});const Y=G;var Z=Y;(0,l.Ef)(Z).mount("#app")}},n={};function u(l){var t=n[l];if(void 0!==t)return t.exports;var a=n[l]={exports:{}};return e[l].call(a.exports,a,a.exports,u),a.exports}u.m=e,function(){var e=[];u.O=function(n,l,t,a){if(!l){var o=1/0;for(d=0;d<e.length;d++){l=e[d][0],t=e[d][1],a=e[d][2];for(var i=!0,s=0;s<l.length;s++)(!1&a||o>=a)&&Object.keys(u.O).every((function(e){return u.O[e](l[s])}))?l.splice(s--,1):(i=!1,a<o&&(o=a));if(i){e.splice(d--,1);var r=t();void 0!==r&&(n=r)}}return n}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[l,t,a]}}(),function(){u.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(n,{a:n}),n}}(),function(){u.d=function(e,n){for(var l in n)u.o(n,l)&&!u.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:n[l]})}}(),function(){u.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){u.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){var e={524:0};u.O.j=function(n){return 0===e[n]};var n=function(n,l){var t,a,o=l[0],i=l[1],s=l[2],r=0;if(o.some((function(n){return 0!==e[n]}))){for(t in i)u.o(i,t)&&(u.m[t]=i[t]);if(s)var d=s(u)}for(n&&n(l);r<o.length;r++)a=o[r],u.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return u.O(d)},l=self["webpackChunkships_dice"]=self["webpackChunkships_dice"]||[];l.forEach(n.bind(null,0)),l.push=n.bind(null,l.push.bind(l))}();var l=u.O(void 0,[504],(function(){return u(1945)}));l=u.O(l)})();
//# sourceMappingURL=app.8c5110cb.js.map